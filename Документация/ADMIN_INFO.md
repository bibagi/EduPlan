# Информация об учётной записи администратора

## Особенности учётной записи admin

### 1. Email и телефон не обязательны
Для пользователя **admin** поля Email и Phone являются необязательными:
- Можно оставить пустыми при создании/редактировании
- Не влияет на работу системы
- Восстановление пароля для admin недоступно через форму

### 2. Восстановление пароля admin

Функция "Забыли пароль?" **не работает** для учётной записи admin по соображениям безопасности.

#### Как сбросить пароль администратора:

**Способ 1: Пересоздание базы данных**
1. Закройте приложение
2. Удалите файл `schedule.db` из корневой папки проекта
3. Запустите приложение заново
4. База данных создастся автоматически с admin/admin

**Способ 2: Через SQL (если нужно сохранить данные)**
```sql
-- Подключитесь к schedule.db через SQLite браузер
-- Выполните запрос для сброса пароля на "admin"
UPDATE Users 
SET PasswordHash = '$2a$11$...' -- хеш для "admin"
WHERE Login = 'admin';
```

### 3. Рекомендации по безопасности

#### Для продакшн-среды:
1. **Сразу после установки** смените пароль admin на сложный
2. Создайте дополнительную учётную запись администратора с email
3. Используйте основную учётную запись admin только в крайних случаях
4. Храните пароль admin в безопасном месте

#### Пример настройки:
```
Основной admin:
- Логин: admin
- Пароль: сложный_пароль_123!@#
- Email: не указан
- Телефон: не указан
- Использование: только для восстановления доступа

Рабочий администратор:
- Логин: ivanov
- Пароль: другой_сложный_пароль
- Email: ivanov@company.ru
- Телефон: +79991234567
- Роль: Admin
- Использование: повседневная работа
```

### 4. Что делать, если забыли пароль admin

#### Вариант A: Есть другой администратор
1. Войдите под другой учётной записью с ролью Admin
2. Откройте раздел "Пользователи"
3. Отредактируйте пользователя admin
4. Установите новый пароль

#### Вариант B: Нет других администраторов
1. Закройте приложение
2. Удалите файл `schedule.db`
3. Запустите приложение
4. Войдите как admin/admin
5. Восстановите данные из резервной копии (если есть)

### 5. Попытка восстановления через форму

Если пользователь попытается восстановить пароль admin через форму "Забыли пароль?", система покажет сообщение:

```
Восстановление пароля для администратора недоступно.

Для сброса пароля администратора:
1. Закройте приложение
2. Удалите файл schedule.db
3. Запустите приложение заново
4. Войдите как admin/admin
```

### 6. Для обычных пользователей

Все остальные пользователи (Teacher, Viewer, другие Admin) **должны** иметь:
- Email или Телефон (хотя бы одно поле)
- Для возможности восстановления пароля

## Резюме

| Параметр | admin | Другие пользователи |
|----------|-------|---------------------|
| Email обязателен | ❌ Нет | ✅ Да (рекомендуется) |
| Телефон обязателен | ❌ Нет | ✅ Да (рекомендуется) |
| Восстановление через форму | ❌ Недоступно | ✅ Доступно |
| Сброс пароля | Только через БД | Через форму восстановления |
| Рекомендация | Сложный пароль + запись | Email + Телефон |

## Часто задаваемые вопросы

**Q: Почему для admin нельзя восстановить пароль?**  
A: По соображениям безопасности. Учётная запись admin имеет полный доступ к системе, поэтому её восстановление должно быть максимально защищено.

**Q: Можно ли добавить email для admin?**  
A: Да, можно, но это не даст возможности восстановления пароля через форму.

**Q: Что делать, если потерял пароль admin и нет резервной копии?**  
A: Придётся пересоздать базу данных и заново ввести все данные.

**Q: Можно ли создать несколько администраторов?**  
A: Да, создайте дополнительных пользователей с ролью "Admin" и укажите для них email/телефон.

**Q: Безопасно ли хранить пароль admin в файле?**  
A: Только если файл защищён и доступен только вам. Лучше использовать менеджер паролей.
